(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764,910],{6620:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var l=s(5155),t=s(2115),n=s(6910);function i(){let[e,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[d,u]=(0,t.useState)(""),[r,c]=(0,t.useState)(""),[o,m]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[g,N]=(0,t.useState)(!1);async function f(){let{data:e}=await n.supabase.from("modules").select("*").order("created_at"),{data:s}=await n.supabase.from("labs").select("*").order("created_at");a(e||[]),i(s||[])}async function j(){N(!0);let{error:e}=await n.supabase.from("modules").insert([{title:d,slug:r,lab_id:o,summary:p,content:b}]);e?alert(e.message):(u(""),c(""),h(""),x(""),f()),N(!1)}async function v(e){if(!confirm("Delete module?"))return;let{error:a}=await n.supabase.from("modules").delete().eq("id",e);a?alert(a.message):f()}return(0,t.useEffect)(()=>{f()},[]),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Modules"}),(0,l.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,l.jsx)("input",{placeholder:"Title",value:d,onChange:e=>u(e.target.value),className:"p-2 bg-slate-800 rounded w-full"}),(0,l.jsx)("input",{placeholder:"Slug (e.g. traffic-light)",value:r,onChange:e=>c(e.target.value),className:"p-2 bg-slate-800 rounded w-full"}),(0,l.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"p-2 bg-slate-800 rounded w-full",children:[(0,l.jsx)("option",{value:"",children:"Select Lab"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,l.jsx)("input",{placeholder:"Summary",value:p,onChange:e=>h(e.target.value),className:"p-2 bg-slate-800 rounded w-full"}),(0,l.jsx)("textarea",{placeholder:"Content (instructions/hints)",value:b,onChange:e=>x(e.target.value),className:"p-2 bg-slate-800 rounded w-full"}),(0,l.jsx)("button",{onClick:j,className:"px-4 py-2 bg-amber-500 rounded",disabled:g,children:"Create Module"})]}),(0,l.jsx)("div",{className:"grid gap-3",children:e.map(e=>(0,l.jsxs)("div",{className:"p-3 bg-slate-800 rounded flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-semibold",children:e.title}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:e.slug})]}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)("button",{onClick:()=>v(e.id),className:"px-3 py-1 bg-red-600 rounded",children:"Delete"})})]},e.id))})]})}},6910:(e,a,s)=>{"use strict";s.d(a,{supabase:()=>i});var l=s(945);let t="https://knjhqjygkplullnsqmdk.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtuamhxanlna3BsdWxsbnNxbWRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NDA1NTgsImV4cCI6MjA3MDUxNjU1OH0.VI-XbbWnxW5GMqhsoaUTGidGJ2nR9xa-DkFujvmxNLE";if(!t||!n)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY");let i=(0,l.UU)(t,n)},8388:(e,a,s)=>{Promise.resolve().then(s.bind(s,6620))}},e=>{e.O(0,[945,441,493,977],()=>e(e.s=8388)),_N_E=e.O()}]);