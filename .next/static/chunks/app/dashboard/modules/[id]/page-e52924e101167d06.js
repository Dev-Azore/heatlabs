(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{2440:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var n=a(5155),l=a(2115);let r={"traffic-light-system":()=>a.e(866).then(a.bind(a,6866)).then(e=>e.default),"crop-growth-simulator":()=>a.e(57).then(a.bind(a,7057)).then(e=>e.default),"human-anatomy-quiz":()=>a.e(913).then(a.bind(a,4913)).then(e=>e.default),"math-puzzle-challenge":()=>a.e(153).then(a.bind(a,6153)).then(e=>e.default),"traffic-light":()=>a.e(866).then(a.bind(a,6866)).then(e=>e.default),"crop-simulator":()=>a.e(57).then(a.bind(a,7057)).then(e=>e.default),"anatomy-quiz":()=>a.e(913).then(a.bind(a,4913)).then(e=>e.default),"math-puzzle":()=>a.e(153).then(a.bind(a,6153)).then(e=>e.default)};function d(e){let{slug:t,moduleId:d,metadata:i}=e,[u,s]=(0,l.useState)(null);return((0,l.useEffect)(()=>{let e=!0;return(async()=>{if(!t)return;let a=r[t];if(!a)return s(()=>()=>(0,n.jsx)("div",{className:"p-4 text-center",children:"Module not implemented yet."}));try{let t=await a();e&&s(()=>t)}catch(e){console.error("failed to import",e),s(()=>()=>(0,n.jsx)("div",{className:"p-4 text-center",children:"Error loading module"}))}})(),()=>{e=!1}},[t]),u)?(0,n.jsx)(u,{moduleId:d,metadata:i,onComplete:async()=>{let{supabase:e}=await Promise.all([a.e(945),a.e(910)]).then(a.bind(a,6910)),t=(await e.auth.getUser()).data.user;if(!t)return alert("You must be signed in to complete the module");let{error:n}=await e.rpc("upsert_user_progress",{p_module_id:d,p_user_id:t.id,p_status:"completed"});n?alert("Failed to mark complete: "+n.message):alert("Module marked complete!")}}):(0,n.jsx)("div",{className:"p-6",children:"Loading moduleâ€¦"})}},9297:(e,t,a)=>{Promise.resolve().then(a.bind(a,4102)),Promise.resolve().then(a.bind(a,2440))}},e=>{e.O(0,[102,441,493,977],()=>e(e.s=9297)),_N_E=e.O()}]);